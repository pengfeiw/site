<html lang="zh_cn"><head><title>翼边结构 —— 计算机几何 | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="brep,B-rep,winged-edge,翼边结构,CAD,几何建模,计算机图形学,计算机几何"><meta name="description" content="翼边结构是 B-rep 结构中的一种古老的几何体数据结构，如何用它描述一个几何体呢？"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2023年9月26日</span><span class="category"><a href="/blogs/computer-graphics">标签：ComputerGraphics</a></span></div><div class="markdown-body"><h1 id="翼边数据结构（winged-Edge Data Structure）">翼边数据结构（winged-Edge Data Structure） <a href="#翼边数据结构（winged-Edge Data Structure）">#</a></h1><p>翼边数据结构是 B-rep （Boundary repesentation, 边界表示法）的一种数据结构，本文介绍如何使用翼边结构描述一个几何体。</p><p>翼边结构可以看作是线框模型（Wireframe Model）的一个扩展，也是使用 Edge 描述几何体。</p><h2 id="Edge Table">Edge Table <a href="#Edge Table">#</a></h2><p>首先需要维护一个 Edge 表，表中记录了一个几何体所有的 edge 信息，每条 edge 信息需要包括以下内容：</p><ol><li>与 edge 相关的两个顶点（vertices）</li><li>与它相关的左侧面（left face）和右侧面（right face）</li><li>当绕着与它相关的左侧面的所有 edge，沿<strong>逆时针</strong>遍历时，该 edge 的前一条 edge（predecessor edge）和后一条 edge（successor edge）。</li><li>当绕着与它相关的右侧面的所有 edge，沿<strong>逆时针</strong>遍历时，该 edge 的前一条 edge（predecessor edge）和后一条 edge（successor edge）。</li></ol><p><img src="../static/images/20.jpg" alt="多面体"></p><p>以上图中的多面体为例，边 a 的起始点和终止点为：X 和 Y，它的左侧面为 2，右侧面为 1。与左侧面 2 相关的边为 <code>a,d,e</code>, 与右侧面 1 相关的边为 <code>a,b,c</code>。注意描述面的外轮廓边的顺序必须为逆时针，这种顺序能够很好的用右手定则描述面的朝向（法向量）。所以沿着 a 的左侧面 2 遍历时，a 的前一条 edge 为 e，后一条 edge 为 d，沿着 a 的右侧面 1 遍历时，a 的前一条 edge 为 c，后一条 edge 为 b。</p><p>总结，一个 Edge 表的每一条记录需要包含以下信息：edge name, start vertex, end vertex, left face，right face, predecessor edges，successor edges。</p><p><img src="../static/images/21.jpg" alt="winged-Edge"></p><table><thead><tr><th>Edge Name</th><th>Vertices Start</th><th>Vertices End</th><th>Faces Left</th><th>Faecs Right</th><th>Left-Traverse Pred</th><th>Left-Traverse Succ</th><th>Right-Traverse Pred</th><th>Right-Traverse Succ</th></tr></thead><tbody><tr><td>a</td><td>X</td><td>Y</td><td>1</td><td>2</td><td>b</td><td>d</td><td>e</td><td>c</td></tr></tbody></table><h2 id="Vertex Table 和 Face Table">Vertex Table 和 Face Table <a href="#Vertex Table 和 Face Table">#</a></h2><p>除了 Edge Table，还需要维护一个 Vertex Table 和 Face Table。这两个表相对比较简单，Vertex 只需要维护与 Vertex 相关的 Edge，边由哪两个顶点构成。Face Table 只需要维护与它相关的 Edge，面由哪些边围合而成。</p><p>通过 Edge Table，Vertex Table 和 Face Table，能够得到与体相关的拓扑信息，能够轻易知道任意一个顶点，一条边，一个面的相关连的信息。</p><h2 id="有洞（hole）的面如何表示？">有洞（hole）的面如何表示？ <a href="#有洞（hole）的面如何表示？">#</a></h2><p>有很多几何体是有洞的，例如下面这种：</p><p><img src="../static/images/22.jpg" alt="有洞的几何体"></p><p>翼边结构如何表示呢？</p><p>有两种方式。第一种面的外环（outer loop）用逆时针描述，内环（inner loop）用顺时针描述。</p><p><img src="../static/images/23.jpg" alt="面的外环与内环"></p><p>另一种简单的方法是在每个内环和外环之间添加辅助边，如下所示。该辅助边的左面和右面将具有相同的面。这样，一个有孔的面就变成了一个单独的环，可以用翼边数据结构来表示。遍历循环时，由于左右面相同，因此可以轻松识别辅助边。</p><p><img src="../static/images/24.jpg" alt="auxiliary edges"></p><p>（完）</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/computer-graphics/manifolds">上一篇：流形 —— 计算机几何</a></span><span class="next-article"><a href="/blogs/computer-graphics/euler-poincare-Formula">下一篇：欧拉泊松公式 —— 计算机几何</a></span></div></div><div class="footer"><span>@2020-2023 Wang Pengfei</span><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">皖ICP备2021002453号-1</a></div></body></html>