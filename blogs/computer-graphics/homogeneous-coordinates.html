<html lang="zh_cn"><head><title>齐次坐标 —— 计算机几何 | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="homogeneous,coordinates,齐次坐标,计算机图形学,CAD,"><meta name="description" content="何为齐次坐标，为什么要引入齐次坐标，它解决了什么问题？"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2023年9月22日</span><span class="category"><a href="/blogs/computer-graphics">标签：ComputerGraphics</a></span></div><div class="markdown-body"><h1 id="齐次坐标 —— 计算机几何">齐次坐标 —— 计算机几何 <a href="#齐次坐标 —— 计算机几何">#</a></h1><p><img src="../static/images/14.jpg" alt="透视"></p><p>为什么要引入<strong>齐次坐标（Homogeneous Coordinates）</strong>？引入齐次坐标的目的式为了更好的表示无限远（infinity）的坐标的概念，在欧式空间中，无限大或者无限小的坐标的并不存在，不能用数值表示一个坐标的 xy 分量是无限大或者无限小的。所以引入了齐次坐标的概念。</p><p>齐次坐标在 CAD 中十分重要，曲线（curve）和曲面（surface）设计都与之有关。另外<a href="https://pengfeixc.com/blogs/computer-graphics/3D-matrix-transformation-part-one">矩阵变换</a>也用到了齐次坐标的概念。</p><h2 id="齐次坐标原理">齐次坐标原理 <a href="#齐次坐标原理">#</a></h2><p>现在有两个数 <code>a</code> 和 <code>w</code>，尝试计算 <code>a/w</code> 的值，当 <code>w</code> 趋近于 0 时，<code>a/w</code> 的值越来越接近无穷大（或者无穷小）。齐次空间中为了描述 Infinity 的坐标，使用 <code>a</code> 和 <code>w=0</code> 两个数值表示，即 <code>(a, 0)</code>。</p><p>齐次坐标比笛卡尔坐标多了一个 <code>w</code> 分量，即 <code>(x, y, w)</code>。齐次坐标对应的笛卡尔坐标为 x 和 y 分量除以 w 分量，即 <code>(x/w, y/w)</code>。</p><p><code>w</code> 可以为任意值，所以下面的齐次坐标表示的笛卡尔坐标实际为同一个，都是 <code>(1, 2)</code>：</p><pre><code>w=1: (1, 2, 1) =&gt; (1/1, 2/1) =&gt; (1, 2)
w=2: (2, 4, 2) =&gt; (2/2, 4/2) =&gt; (1, 2)
2=3: (3, 6, 3) =&gt; (3/3, 6/3) =&gt; (1, 2)
</code></pre><p>当 <code>w=0</code>，<code>x/w</code> 趋近于无穷，此时齐次坐标表示的是无限远的点，如果用笛卡尔坐标，是无法描述无限远坐标的。</p><blockquote><p>注意：从齐次坐标转到笛卡尔坐标式唯一的(x/w, y/w)，但是将常规坐标转换为齐次坐标却不是唯一的，w 可以是任意非 0 值。</p></blockquote><h2 id="齐次坐标与多项式">齐次坐标与多项式 <a href="#齐次坐标与多项式">#</a></h2><p>现有多项式 <code>f(x, y)=0</code>, 将 <code>x</code> 和 <code>y</code> 用 <code>x/w</code> 和 <code>y/w</code> 替换得到 <code>f(x/w,y/w)=0</code>，即齐次坐标系中的多项式。</p><p>例如：</p><pre><code>Ax + By + C = 0
变为
Ax/w + By/w + C = 0
</code></pre><p>每一项再乘以 <code>w^n</code>，<code>n</code> 为多项式的次数：</p><pre><code>Ax + By + Cw = 0
</code></pre><p>此时可以看到多项式的每一项都是一次的 <code>Ax</code>、<code>By</code> 和 <code>Cw</code>，即<strong>齐次</strong>。</p><p>再以二次多项式 <code>Ax^2 + 2Bxy + Cy^2 + 2Dx + 2Ey + F = 0</code> 为例，将 <code>x/w</code> 和 <code>y/w</code> 带入多项式，然后乘以 W^2 得到：</p><pre><code>Ax^2 + 2Bxy + Cy^2 + 2Dxw + 2Eyw + Fw^2 = 0
</code></pre><p>此时多项式的每一项的都是二阶的。</p><p>上面的过程也可以反过来，给定齐次坐标系中的多项式，得到常规多项式：将齐次坐标系多项式每一项除以 <code>w^n</code>，然后用 <code>x</code> 和 <code>y</code> 替换 <code>x/w</code> 和 <code>y/w</code>。</p><h2 id="理想点和无穷远点">理想点和无穷远点 <a href="#理想点和无穷远点">#</a></h2><p>正如本页开头提到的，齐次坐标可以轻松捕捉无穷大的概念。固定点 <code>(x , y)</code> 并通过乘以 <code>1/ w</code> 得到 齐次坐标 <code>(x/w,y/w,1/w)</code> 。让 <code>w</code> 的值趋近于零，则 <code>(x/w,y/w)</code>沿着 <code>(x,y)</code> 的方向越来越远。当 <code>w</code> 变为零时，<code>(x/w, y/w)</code> 趋于无穷大。因此，我们可以说，齐次坐标 <code>(x ,y ,0)</code> 是 <code>(x , y)</code> 方向上的理想点或无穷远点。</p><p>让我们看一个例子。令 <code>(3,5)</code> 为 xy 平面上的点。考虑 <code>(3/ w ,5/ w )</code>。如果 w 不为零，则该点位于直线 <code>y = (5/3)x</code> 上。或者，也可以用向量表示，<code>(3/w ,5/ w)</code> 是直线 <code>O + (1/ w )d</code> 上的点，其中基点 <code>O</code> 是坐标原点，<code>d</code> 是方向向量 <code>&lt;3 ,5&gt;</code>。 因此，当 <code>w</code> 接近零时，该点将移动到直线上的无穷远。这就是为什么说 <code>( x, y,0)</code> 是理想点或 <code>(x,y)</code> 方向上的无穷远点。</p><p>(完)</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/computer-graphics/coordinatesystems-points-lines-planes">上一篇：坐标系、点、线、面 —— 计算机几何</a></span></div></div><div class="footer">@2020-2023 Wang Pengfei</div></body></html>