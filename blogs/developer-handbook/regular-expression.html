<html lang="zh_cn"><head><title>正则表达式 | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords"><meta name="description" content="介绍一些常用的正则表达式语法。学习如何使用正则表达式快速处理文档。"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="stylesheet" href="/blogs/assests/global.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="body"><div class="markdown"><div class="markdown-header"><span class="date">日期：2021年8月3日</span><span class="category"><a href="/blogs/developer-handbook">标签：DeveloperHandbook</a></span></div><div class="markdown-body"><h1 id="正则表达式">正则表达式 <a href="#正则表达式">#</a></h1><p><em>本文介绍正则表达式中一些常用的语法。</em></p><h2 id="一.普通字符">一.普通字符 <a href="#一.普通字符">#</a></h2><p>普通字符匹配即，一般文本编辑器，或者windows记事本支持的字符匹配，可以匹配单个字符，也可以匹配多个连续字符匹配。</p><p><img src="https://pengfeiw.github.io/images/blog/97.jpg" alt="regex"></p><p>示例中斜杠中间的字符串表示需要匹配的正则表达式。上面的代码表示匹配<code>Text</code>字符串。使用连续字符串时，也支持空格匹配。</p><p><img src="https://pengfeiw.github.io/images/blog/98.jpg" alt="正则表达式"></p><h2 id="二.特殊字符">二.特殊字符 <a href="#二.特殊字符">#</a></h2><p>正则表达式提供了一些特殊字符：<code>\ | ^ $ . ? * + ( ) [ {</code>，来增强字符串匹配的功能。</p><h3 id="1.%3Ccode%3E%5C%3C/code%3E">1.<code>\</code> <a href="#1.%3Ccode%3E%5C%3C/code%3E">#</a></h3><p><code>\</code>表示转义。如果想要匹配文本中的<code>\ | ^ $ . ? * + ( ) [ {</code>这些特殊字符，需要在这些字符前面添加<code>\</code>进行转义后，才可以正确匹配。</p><p><img src="https://pengfeiw.github.io/images/blog/99.jpg" alt="正则表达式"></p><p><em><code>+</code>无法正确匹配文档中的<code>+</code>。</em></p><p><img src="https://pengfeiw.github.io/images/blog/100.jpg" alt="正则表达式"></p><p><em>添加<code>\</code>后，正则表达式可以正确进行匹配。</em></p><p>反斜杠<code>\</code>不应该用于普通字符前面，例如<code>\d</code>，<code>\d</code>不会匹配普通字符<code>d</code>。实际上<code>\d</code>是一个简写，它会匹配0-9之间任意一个数字。</p><p><img src="https://pengfeiw.github.io/images/blog/101.jpg" alt="正则表达式"></p><p><em><code>\d</code>匹配0-9中任意一个数字。图中正则表达式斜杠后的<code>g</code>表示全局匹配的意思，它会匹配下面文本中所有符合要求的字符串。</em></p><p>与<code>\d</code>类似的还有：</p><ul><li><code>\w</code>：匹配字母、数字、下划线，等价于<code>[^A-Za-z0-9_]</code>。</li><li><code>\s</code>：匹配任意的空白字符。</li><li><code>\b</code>：匹配单词的开始或结束。</li></ul><p>数字前也可以添加斜杠，这种形式的特殊字符组需要和<code>()</code>配合使用。</p><p><img src="https://pengfeiw.github.io/images/blog/102.jpg" alt="正则表达式"></p><p><em><code>\1</code>和<code>\2</code>分别表示第一个括号匹配的内容和第二个括号匹配的内容，所以<code>(a)(b)\1\2</code>等价于<code>abab</code>。</em></p><h3 id="2.%20%3Ccode%3E%7C%3C/code%3E">2. <code>|</code> <a href="#2.%20%3Ccode%3E%7C%3C/code%3E">#</a></h3><p><code>|</code>表示选择操作符（或操作符），匹配符号两侧中的任意一侧。例如<code>abc|def</code>会匹配<code>abc</code>或者<code>def</code>。</p><p><img src="https://pengfeiw.github.io/images/blog/103.jpg" alt="正则表达式"></p><h3 id="3.%20%3Ccode%3E$%3C/code%3E">3. <code>$</code> <a href="#3.%20%3Ccode%3E$%3C/code%3E">#</a></h3><p><code>$</code>用法和反斜杠加上数字用法一样，表示引用前面的括号中匹配的内容。</p><blockquote><p><code>$0</code>匹配正则表达式全部字符串内容。</p><p><code>$1</code>引用正则表达式第一个括号中的表达式。</p><p><code>$2</code>引用正则表达式第二个括号中的表达式。</p><p>以此内推....</p></blockquote><p>这个符号还有另一个好处，就是用于替换。以JavaScript代码为例：</p><pre><code class="hljs language-javascript"><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/(\w+)\s(\w+)/</span>;
<span class="hljs-keyword">var</span> str = <span class="hljs-string">"John Smith"</span>;
<span class="hljs-keyword">var</span> newstr = str.<span class="hljs-title function_">replace</span>(re, <span class="hljs-string">"$2, $1"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(newstr);

<span class="hljs-comment">// 程序将会打印："Smith, John"</span>
</code></pre><h3 id="4.%20%3Ccode%3E?%3C/code%3E">4. <code>?</code> <a href="#4.%20%3Ccode%3E?%3C/code%3E">#</a></h3><p>匹配前面的字符0次或者1次。例如<code>a?b</code>会匹配<code>ab</code>或者<code>b</code>。</p><h3 id="5.%20%3Ccode%3E*%3C/code%3E">5. <code>*</code> <a href="#5.%20%3Ccode%3E*%3C/code%3E">#</a></h3><p>匹配前面的字符0次或者多次。例如<code>a*b</code>会匹配<code>b</code>、 <code>ab</code>、<code>aab</code>和<code>aaab</code>等等。</p><h3 id="6.%3Ccode%3E+%3C/code%3E">6.<code>+</code> <a href="#6.%3Ccode%3E+%3C/code%3E">#</a></h3><p>与<code>*</code>类似，匹配前面的字符1次或者多次。例如<code>a*b</code>会匹配 <code>ab</code>、<code>aab</code>和<code>aaab</code>等等，但是不会匹配<code>b</code>。</p><h3 id="7.%20%3Ccode%3E(%3C/code%3E%E5%92%8C%3Ccode%3E)%3C/code%3E">7. <code>(</code>和<code>)</code> <a href="#7.%20%3Ccode%3E(%3C/code%3E%E5%92%8C%3Ccode%3E)%3C/code%3E">#</a></h3><p><code>(</code>和<code>)</code>两个操作符需要配合使用，表示强结合的意思，前面讲述过该用法。</p><h3 id="8.%20%3Ccode%3E%5B%3C/code%3E%E5%92%8C%3Ccode%3E%5D%3C/code%3E">8. <code>[</code>和<code>]</code> <a href="#8.%20%3Ccode%3E%5B%3C/code%3E%E5%92%8C%3Ccode%3E%5D%3C/code%3E">#</a></h3><p><code>[</code>和<code>]</code>配合使用，表示一个字符类，后面会介绍。</p><h3 id="9.%20%3Ccode%3E%7B%3C/code%3E">9. <code>{</code> <a href="#9.%20%3Ccode%3E%7B%3C/code%3E">#</a></h3><p>大部分支持正则表达式的编辑器，都将<code>{</code>视作普通字符，只有当<code>{</code>与<code>}</code>成对出现的情况下，<code>{}</code>这个会构成一个重复操作符。</p><p><img src="https://pengfeiw.github.io/images/blog/104.jpg" alt="正则表达式"></p><p><em><code>(ab){2}</code>表示将(ab)重复两次。</em></p><h2 id="三.不可打印字符">三.不可打印字符 <a href="#三.不可打印字符">#</a></h2><table><thead><tr><th>正则表达式</th><th>匹配</th></tr></thead><tbody><tr><td>\t</td><td>匹配一个tab字符</td></tr><tr><td>\n</td><td>匹配一个换行符</td></tr><tr><td>\r</td><td>匹配一个回车符</td></tr><tr><td>\v</td><td>匹配一个垂直制表符</td></tr></tbody></table><h2 id="四.字符类">四.字符类 <a href="#四.字符类">#</a></h2><p>前面提到过，<code>[</code>和<code>]</code>配合使用，表示一个字符类。字符类表示匹配一组字符中的某个单个字符，例如<code>[abc]</code>表示匹配<code>a</code>、<code>b</code>或者<code>c</code>。</p><p><img src="https://pengfeiw.github.io/images/blog/105.jpg" alt="正则表达式"></p><h3 id="1.%20%E8%BF%9E%E5%AD%97%E7%AC%A6%3Ccode%3E-%3C/code%3E">1. 连字符<code>-</code> <a href="#1.%20%E8%BF%9E%E5%AD%97%E7%AC%A6%3Ccode%3E-%3C/code%3E">#</a></h3><p>可以字符类中使用<code>-</code>，表示一个连续的范围。例如<code>[0-9]</code>等价于<code>[0123456789]</code>，匹配0到9之间任意一个数字：</p><p><img src="https://pengfeiw.github.io/images/blog/106.jpg" alt="正则表达式"></p><p>也支持字母范围<code>[a-d]</code>：</p><p><img src="https://pengfeiw.github.io/images/blog/107.jpg" alt="正则表达式"></p><p>大写字母范围<code>[A-D]</code>：</p><p><img src="https://pengfeiw.github.io/images/blog/108.jpg" alt="正则表达式"></p><p>一些特殊字符在字符类中不需要转义即可进行匹配：</p><p><img src="https://pengfeiw.github.io/images/blog/109.jpg" alt="正则表达式"></p><p><code>\</code>、<code>-</code>、<code>[</code>和<code>]</code>这些特殊字符在字符类中需要转义才可以进行匹配：</p><p><img src="https://pengfeiw.github.io/images/blog/110.jpg" alt="正则表达式"></p><h2 id="五.反字符类">五.反字符类 <a href="#五.反字符类">#</a></h2><p>反字符类功能与字符类功能正好相反，表示不匹配其中任何一个字符。只需要在<code>[</code>后添加<code>^</code>即可形成反字符类。</p><p><img src="https://pengfeiw.github.io/images/blog/111.jpg" alt="正则表达式"></p><p><em><code>[^a-c]</code>表示匹配除a、b、c的任意一个字符（不匹配a、b、c）。</em></p><h2 id="六.向前引用和向后引用">六.向前引用和向后引用 <a href="#六.向前引用和向后引用">#</a></h2><h3 id="1.正向前引用">1.正向前引用 <a href="#1.正向前引用">#</a></h3><p>如果你需要找到某个字符，这个字符后面必须跟着某个字符或者某个字符串，此时需要使用正向前引用。语法为<code>(?=指定字符或字符串)</code>。例如你想找到一个<code>q</code>，<code>q</code>需要满足其后必须紧跟着字母<code>u</code>。</p><p><img src="https://pengfeiw.github.io/images/blog/112.jpg" alt="正则表达式"></p><h3 id="2. 反向前引用">2. 反向前引用 <a href="#2. 反向前引用">#</a></h3><p>反向前引用表示匹配某个字符，后面没有指定字符。语法为<code>(?!指定字符或字符串)</code> 例如你想找到一个<code>q</code>后面没有紧跟着字母<code>u</code>。</p><p><img src="https://pengfeiw.github.io/images/blog/113.jpg" alt="正则表达式"></p><h3 id="3.正向后引用">3.正向后引用 <a href="#3.正向后引用">#</a></h3><p>向后引用与向前引用类似，不过是针对某个字符前面的字符的操作。正向后引用表示要匹配某个字符，这个字符前面必须是某个指定字符或者字符串，语法为<code>(?&lt;=指定的字符或者字符串)</code>。例如查找字符<code>a</code>，<code>a</code>前面必须要字母<code>z</code>。</p><p><img src="https://pengfeiw.github.io/images/blog/114.jpg" alt="正则表达式"></p><h3 id="4.反向后用引用">4.反向后用引用 <a href="#4.反向后用引用">#</a></h3><p>反向后引用，匹配某个字符，该字符前面不能是某个指定字符或字符串，语法为<code>(?&lt;!指定的字符或者字符串)</code>。例如要朝招字符<code>a</code>，<code>a</code>前面不能是字母<code>z</code>。</p><p><img src="https://pengfeiw.github.io/images/blog/115.jpg" alt="正则表达式"></p><p>（完）。</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/computer-graphics/graphics-material">上一篇：【光照理论】（二）材质</a></span><span class="next-article"><a href="/blogs/javascript/typescript-builtin-generic">下一篇：【TypeScript】内置的泛型</a></span></div></div><div class="toc"><div class="toc-header">目录</div><div class="toc-body"><div class="toc-item"><a class="toc-item-link" href="#正则表达式" style="padding-left:15px">正则表达式</a></div><div class="toc-item"><a class="toc-item-link" href="#一.普通字符" style="padding-left:30px">一.普通字符</a></div><div class="toc-item"><a class="toc-item-link" href="#二.特殊字符" style="padding-left:30px">二.特殊字符</a></div><div class="toc-item"><a class="toc-item-link" href="#1.%3Ccode%3E%5C%3C/code%3E" style="padding-left:45px">1.\</a></div><div class="toc-item"><a class="toc-item-link" href="#2.%20%3Ccode%3E%7C%3C/code%3E" style="padding-left:45px">2. |</a></div><div class="toc-item"><a class="toc-item-link" href="#3.%20%3Ccode%3E$%3C/code%3E" style="padding-left:45px">3. $</a></div><div class="toc-item"><a class="toc-item-link" href="#4.%20%3Ccode%3E?%3C/code%3E" style="padding-left:45px">4. ?</a></div><div class="toc-item"><a class="toc-item-link" href="#5.%20%3Ccode%3E*%3C/code%3E" style="padding-left:45px">5. *</a></div><div class="toc-item"><a class="toc-item-link" href="#6.%3Ccode%3E+%3C/code%3E" style="padding-left:45px">6.+</a></div><div class="toc-item"><a class="toc-item-link" href="#7.%20%3Ccode%3E(%3C/code%3E%E5%92%8C%3Ccode%3E)%3C/code%3E" style="padding-left:45px">7. (和)</a></div><div class="toc-item"><a class="toc-item-link" href="#8.%20%3Ccode%3E%5B%3C/code%3E%E5%92%8C%3Ccode%3E%5D%3C/code%3E" style="padding-left:45px">8. [和]</a></div><div class="toc-item"><a class="toc-item-link" href="#9.%20%3Ccode%3E%7B%3C/code%3E" style="padding-left:45px">9. {</a></div><div class="toc-item"><a class="toc-item-link" href="#三.不可打印字符" style="padding-left:30px">三.不可打印字符</a></div><div class="toc-item"><a class="toc-item-link" href="#四.字符类" style="padding-left:30px">四.字符类</a></div><div class="toc-item"><a class="toc-item-link" href="#1.%20%E8%BF%9E%E5%AD%97%E7%AC%A6%3Ccode%3E-%3C/code%3E" style="padding-left:45px">1. 连字符-</a></div><div class="toc-item"><a class="toc-item-link" href="#五.反字符类" style="padding-left:30px">五.反字符类</a></div><div class="toc-item"><a class="toc-item-link" href="#六.向前引用和向后引用" style="padding-left:30px">六.向前引用和向后引用</a></div><div class="toc-item"><a class="toc-item-link" href="#1.正向前引用" style="padding-left:45px">1.正向前引用</a></div><div class="toc-item"><a class="toc-item-link" href="#2. 反向前引用" style="padding-left:45px">2. 反向前引用</a></div><div class="toc-item"><a class="toc-item-link" href="#3.正向后引用" style="padding-left:45px">3.正向后引用</a></div><div class="toc-item"><a class="toc-item-link" href="#4.反向后用引用" style="padding-left:45px">4.反向后用引用</a></div></div></div></div></body></html>