<html lang="zh_cn"><head><title>写给自己的代码整洁之道 | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="clean code,简洁代码,编程,好代码"><meta name="description" content="如何写出简洁、清晰、易于维护的代码。"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="body"><div class="nothing"></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2022年3月16日</span><span class="category"><a href="/blogs/developer-handbook">标签：Developer</a></span></div><div class="markdown-body"><h1 id="写给自己的代码整洁之道">写给自己的代码整洁之道 <a href="#写给自己的代码整洁之道">#</a></h1><h2 id="有意义的命名">有意义的命名 <a href="#有意义的命名">#</a></h2><ul><li>名副其实：变量、函数或类的名称应该已经答复了所有的大问题，它该告诉你，它为什么存在，做了什么事，应该怎么用。</li><li>避免误导：避免使用与本意相悖的词。</li><li>有意义的区分：名称不应该类似，要做有意义的区分，避免使用 a1、a2 这样的类似名称。</li><li>使用读得出来的名称：命名时要使用正确的英文单词，尽量避免使用不好理解的缩写或者错词。</li><li>使用可搜索的名称：避免使用单字母和数字名称，使名称易于搜索。</li><li>避免使用编码：编码会增加解码的负担，而且不便发音，容易打错。</li><li>类名：类通常是一个对象，所以应该用名词或者名词短语。</li><li>方法名：方法表示的是一个操作，所以应该用动词或者动词短语。</li><li>每个概念对应一个词：同一个项目中，同一个概念应该用同一个词，比如 get 和 fetch 都可以表示“取”的意思，但是在同一项目中，应该始终使用同一个词表示“取”这个概念。</li><li>一词一义：同一个词只表示一个意思，不应该出现一词两义或者多义。</li><li>使用专业名词：如果项目涉及某个业务，尽量使用与业务相关的词语。</li></ul><h2 id="函数">函数 <a href="#函数">#</a></h2><ul><li>短小：函数的第一规则是要短小。第二条规则是还要更短小。</li><li>只做一件事：应该遵循单一职责原则，一个函数只做一件事。</li><li>使用描述性的名称：名称应该能描述这个函数做了什么事。</li><li>函数参数：参数应该尽量少，最好维持在三个以内。</li><li>无副作用：函数应只做一件事，避免有其他副作用。</li><li>避免重复：避免写重复代码。</li><li>结构化编程：尽量保证每个函数、函数中的每个代码块都应该只有一个入口、一个出口。</li></ul><h2 id="注释">注释 <a href="#注释">#</a></h2><p>如果注释使代码更糟糕，那么应该删除注释。</p><ul><li>注释不能美化糟糕的代码：写注释的常见动机之一是糟糕的代码的存在，带有少量注释的整洁而有表达力的代码，要比带有大量注释的零碎而复杂的代码像样得多。</li><li>用代码代替注释：好的命名通常比注释更有用。</li></ul><h2 id="格式">格式 <a href="#格式">#</a></h2><ul><li>自顶向下：源文件最顶部应该给出高层次概念和算法。细节应该往下渐次展开，直至找到源文件中最底层的函数和细节。</li><li>函数之间用空行隔开。</li><li>行宽：一行代码的字符不要超过150个。</li><li>缩进：保证代码缩进正确，水平对齐。</li><li>团队规则：一切以团队规则为准则。</li></ul><h2 id="类">类 <a href="#类">#</a></h2><ul><li>类中成员从上至下的分布顺序：</li></ul><pre><code>1. 公有静态常量
2. 私有静态变量
3. 公有普通变量
4. 私有普通变量
5. 公共函数
6. 私有函数
</code></pre><ul><li>不过多暴露类的细节：尽量保持函数和变量的私有</li><li>单一职责原则：类的功能应该单一。</li><li>高内聚性：类中方法和变量相互以来，形成一个逻辑整体。</li><li>面向接口编程：类应该依赖于抽象，而不是依赖于具体细节。使类更加灵活可复用。</li></ul><h2 id="参考">参考 <a href="#参考">#</a></h2><ul><li><a href="https://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code</a></li></ul><p>（完）</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/developer-handbook/original-inverse-complement-code">上一篇：计算机是如何存储整数的—原码、反码、补码</a></span><span class="next-article"><a href="/blogs/site/big-company-vs-small-company">下一篇：去大公司还是小公司</a></span></div></div><div class="toc"><div class="toc-header">目录</div><div class="toc-body"><div class="toc-item"><a class="toc-item-link" href="#写给自己的代码整洁之道" style="padding-left:15px">写给自己的代码整洁之道</a></div><div class="toc-item"><a class="toc-item-link" href="#有意义的命名" style="padding-left:30px">有意义的命名</a></div><div class="toc-item"><a class="toc-item-link" href="#函数" style="padding-left:30px">函数</a></div><div class="toc-item"><a class="toc-item-link" href="#注释" style="padding-left:30px">注释</a></div><div class="toc-item"><a class="toc-item-link" href="#格式" style="padding-left:30px">格式</a></div><div class="toc-item"><a class="toc-item-link" href="#类" style="padding-left:30px">类</a></div><div class="toc-item"><a class="toc-item-link" href="#参考" style="padding-left:30px">参考</a></div></div></div></div></body></html>