<html lang="zh_cn"><head><title>计算机是如何存储整数的—原码、反码、补码 | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="原码,补码,反码,整数存储,计算机整数的存储方式"><meta name="description" content="详解原码、补码和反码的概念，了解计算机是如何存储整数的。"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="body"><div class="nothing"></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2022年2月17日</span><span class="category"><a href="/blogs/developer-handbook">标签：Developer</a></span></div><div class="markdown-body"><h1 id="计算机是如何存储整数的——原码、反码、补码">计算机是如何存储整数的——原码、反码、补码 <a href="#计算机是如何存储整数的——原码、反码、补码">#</a></h1><p>在之前的文章介绍了<a href="https://pengfeixc.com/blogs/developer-handbook/IEEE754">计算机是如何存储浮点数的</a>，本节内容在介绍下计算机是如何存储整数的。</p><p>首先了解下原码、反码和补码的概念。</p><h2 id="原码、反码和补码">原码、反码和补码 <a href="#原码、反码和补码">#</a></h2><p>原码、反码和补码都是数值的一种二进制表现形式。</p><ol><li>原码</li></ol><p>原码<strong>第一位为符号位，其余为数值位</strong>，如果用8位二进制的原码表示十进制的 1 和 -1。</p><table><thead><tr><th>十进制</th><th>原码</th></tr></thead><tbody><tr><td>+1</td><td>0000 0001</td></tr><tr><td>-1</td><td>1000 0001</td></tr></tbody></table><ol start="2"><li>反码</li></ol><p>正数和负数的反码表示方法，有所区别。</p><ul><li>正数：<strong>正数的反码与原码相同</strong>。</li><li>负数：<strong>负数的原码在原码的基础上，保持符号位不变，其余各位按位取反</strong>。</li></ul><table><thead><tr><th>十进制</th><th>原码</th><th>反码</th></tr></thead><tbody><tr><td>+1</td><td>0000 0001</td><td>0000 0001</td></tr><tr><td>-1</td><td>1000 0001</td><td>1111 1110</td></tr></tbody></table><ol start="3"><li>补码</li></ol><p>正数和负数的补码形式表现也有所不同。</p><ul><li>正数：<strong>正数的反码与原码相同</strong>。</li><li>负数：<strong>负数的补码，在其反码的基础上加 1</strong>。</li></ul><table><thead><tr><th>十进制</th><th>原码</th><th>反码</th><th>补码</th></tr></thead><tbody><tr><td>+1</td><td>0000 0001</td><td>0000 0001</td><td>0000 0001</td></tr><tr><td>-1</td><td>1000 0001</td><td>1111 1110</td><td>1111 1111</td></tr></tbody></table><blockquote><p>正数的原码、补码和反码完全一致，而负数原码、补码和反码完全不同，所以在计算负数的二进制机器数时，要十分小心。</p></blockquote><h2 id="整数的存储形式">整数的存储形式 <a href="#整数的存储形式">#</a></h2><p><strong>计算机底层实际存储的是整数的补码</strong>，实际过程大概如下：</p><p>1）输入 -1；</p><p>2）转换为原码 <code>1000 0001</code>；</p><p>3）转换为反码 <code>1111 1110</code>；</p><p>4）转换为补码 <code>1111 1111</code>;</p><ol start="5"><li>将补码存储到内存中。</li></ol><p>所以在得到一个整数的机器数时，想要获得它表示的真实数值，不能直接将其转换为十进制，应该首先将其转换为反码，在转换为原码，最后将得到的原码转换为十进制数值（注意得到的原码第一位是符号位，不要转换错误）。</p><p>举个例子，补码为 <code>1111 1001</code>，求十进制数。</p><p>1）转换为反码，补码减一得到反码 <code>1111 1000</code>；</p><p>2）转换为原码，符号位不变，其余位按位取反得到原码 <code>1000 0111</code>；</p><p>3）将原码转换为十进制数，符号位为 <code>1</code>，所以结果为 <code>-7</code>。</p><p>所以 <code>-7</code> 就是计算机存储的 <code>1111 1001</code> 表示的真实值。</p><blockquote><p>注意：如果采用 8 位二进制存储整数，那么补码 <code>1000 0000</code> 表示的 <code>-128</code>，计算机中一个8位的二进制数的存储范围是用补码表示的 <code>[-128,127]</code>，而不是用原码或反码表示的 <code>[-127,127]</code>。所以计算机中一个字节的取值范围是 <code>[-128,127]</code>。</p></blockquote><p>（完）</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/developer-handbook/vscode-configurations">上一篇：自用 VSCode 配置及插件</a></span><span class="next-article"><a href="/blogs/developer-handbook/clean-code">下一篇：写给自己的代码整洁之道</a></span></div></div><div class="toc"><div class="toc-header">目录</div><div class="toc-body"><div class="toc-item"><a class="toc-item-link" href="#计算机是如何存储整数的——原码、反码、补码" style="padding-left:15px">计算机是如何存储整数的——原码、反码、补码</a></div><div class="toc-item"><a class="toc-item-link" href="#原码、反码和补码" style="padding-left:30px">原码、反码和补码</a></div><div class="toc-item"><a class="toc-item-link" href="#整数的存储形式" style="padding-left:30px">整数的存储形式</a></div></div></div></div></body></html>