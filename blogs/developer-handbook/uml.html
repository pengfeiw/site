<html lang="zh_cn"><head><title>UML 类图 | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="uml,类图,面向对象,流程图"><meta name="description" content="面向对象之 UML 类图图示笔记"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="body"><div class="nothing"></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2022年5月6日</span><span class="category"><a href="/blogs/developer-handbook">标签：Developer</a></span></div><div class="markdown-body"><h1 id="UML 类图">UML 类图 <a href="#UML 类图">#</a></h1><p>写代码已经有好几年了，工作中经常会用 uml 类图去梳理代码结构，但是我从来没有认真去看过 uml 的详细内容。依赖、聚合、组合这些概念的区别，很多教程都没有讲清楚，所以我是从来没有弄懂过，很多时候在表示类关系时都是随意用依赖、聚合、组合三种方式的其中一种代替另外两种来绘制完全图（这其实没有什么太大的影响，因为这三种关系本质上的区别不是很大，都表示依赖关系）。</p><p>今天心血来潮，想把它弄懂，所以查了些资料，记录一下。</p><h2 id="类和接口的表示">类和接口的表示 <a href="#类和接口的表示">#</a></h2><p>1、类</p><p><img src="https://pengfeiw.github.io/images/blog/150.jpg" alt="UML 类的表示"></p><ul><li><code>+</code>: 公共成员</li><li><code>#</code>: 保护成员</li><li><code>-</code>: 私有成员</li></ul><p>抽象（abstract）类和抽象方法，需要将类名和方法名改为斜体。</p><p><img src="https://pengfeiw.github.io/images/blog/159.jpg" alt="UML 抽象类和抽象方法"></p><p>另外，上图中右边两个方框类型表示 <strong>UML 的注释</strong>。</p><p>静态（static）成员和方法，用下划线表示。</p><p><img src="https://pengfeiw.github.io/images/blog/160.jpg" alt="UML 静态成员"></p><p>2、接口</p><p><img src="https://pengfeiw.github.io/images/blog/151.jpg" alt="UML 接口的表示"></p><p>与类类似，不过接口里面全是公共方法。</p><h2 id="实现和继承">实现和继承 <a href="#实现和继承">#</a></h2><p>1、实现</p><p>类可以实现接口，实现用虚线空心箭头表示。</p><p><img src="https://pengfeiw.github.io/images/blog/152.jpg" alt="UML 实现接口"></p><p>2、继承</p><p>子类可以继承父类，继承用实线空心箭头表示。</p><p><img src="https://pengfeiw.github.io/images/blog/153.jpg" alt="UML 继承"></p><h2 id="对象之间的关系">对象之间的关系 <a href="#对象之间的关系">#</a></h2><p>1、依赖</p><p>依赖是类之间最基础的、也是最微弱的关系类型。如果修改一个类的定义可能会造成另一个类的变化，那么这两个类之间就存在依赖关系。一般在项目中依赖关系很多，所以在绘制 uml 图时，并不是将所有的依赖关系都表示出来，仅表示出你想要表达的依赖关系。太多的依赖图示会破坏 UML 图。</p><p>例如在 A 对象中有一个方法的参数是 B，如果我们修改 B 类，那么就会影响到 A 中方法的行为，那么此时 A 依赖于 B。</p><p>依赖用虚线箭头表示。</p><p><img src="https://pengfeiw.github.io/images/blog/154.jpg" alt="UML 依赖"></p><p>2、关联</p><p>关联是一个对象使用另一对象或与另一对象进行交互的关系。另外两个对象间也可能存在互相关联。</p><p>例如在 A 对象中有一个成员是B，在 A 中所有的方法，都可以调用 B，那么此时 A 与 B 是关联关系。<strong>关联是一种依赖性更强的依赖</strong>。</p><p>依赖用实线箭头表示。</p><p><img src="https://pengfeiw.github.io/images/blog/155.jpg" alt="UML 关联"></p><p>3、聚合</p><p>聚合是一种特殊类型的关联，用于表示多个对象之间的“一对多”、“多对多”或“整体对部分”的关系。通常在聚合关系中，一个对象“拥有”一组其他对象，并扮演着容器或集合的角色。组件可以独立于容器存在，也可以同时连接多个容器。聚合表示的是构成的关系，如果 A 由 B 构成，那么 A 和 B 之间的关系是聚合。</p><p>聚合关系使用一端是空心菱形， 另一端指向组件的箭头来表示。</p><p><img src="https://pengfeiw.github.io/images/blog/156.jpg" alt="UML 聚合"></p><p>4、组合</p><p>组合是一种特殊类型的聚合，其中一个对象由一个或多个其他对象实例构成。<strong>组合与其他关系的区别在于组件仅能作为容器的一部分存在</strong>。</p><p>在UML 图中，组合与聚合关系的符号相同，但箭头起始处的菱形是实心的。</p><p><img src="https://pengfeiw.github.io/images/blog/157.jpg" alt="UML 组合"></p><h2 id="总结">总结 <a href="#总结">#</a></h2><p><img src="https://pengfeiw.github.io/images/blog/158.jpg" alt="UML 关系图"></p><ol><li>依赖：对类 B 进行修改会影响到类 A 。</li><li>关联：对象 A 知道对象 B。类 A 依赖于类 B。</li><li>聚合：对象 A 知道对象 B 且由 B 构成。类 A 依赖于类 B。</li><li>组合：对象A 知道对象B、由B 构成而且管理着B 的生命周期。类 A 依赖于类 B。</li><li>实现：类A 定义的方法由接口B 声明。对象A 可被视为对象B。类 A 依赖于类 B。</li><li>继承： 类A 继承类B 的接口和实现， 但是可以对其进行扩展。对象 A 可被视为对象 B。类 A 依赖于类 B。</li></ol><p>参考：</p><ul><li><a href="http://www.uml.org.cn/oobject/201211231.asp">深入浅出 UML 类图</a></li></ul><p>（完）</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/javascript/decorator">上一篇：JavaScript Decorator</a></span><span class="next-article"><a href="/blogs/developer-handbook/git-submodules">下一篇：Git Submodules</a></span></div></div><div class="toc"><div class="toc-header">目录</div><div class="toc-body"><div class="toc-item"><a class="toc-item-link" href="#UML 类图" style="padding-left:15px">UML 类图</a></div><div class="toc-item"><a class="toc-item-link" href="#类和接口的表示" style="padding-left:30px">类和接口的表示</a></div><div class="toc-item"><a class="toc-item-link" href="#实现和继承" style="padding-left:30px">实现和继承</a></div><div class="toc-item"><a class="toc-item-link" href="#对象之间的关系" style="padding-left:30px">对象之间的关系</a></div><div class="toc-item"><a class="toc-item-link" href="#总结" style="padding-left:30px">总结</a></div></div></div></div><div class="footer"><span>@2020-2023 Wang Pengfei</span><a target="_blank" href="https://beian.miit.gov.cn/#/Integrated/index">皖ICP备2021002453号-1</a></div></body></html>