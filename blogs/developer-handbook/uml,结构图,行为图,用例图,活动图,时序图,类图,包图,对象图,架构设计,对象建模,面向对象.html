<html lang="zh_cn"><head><title>UML | 王鹏飞</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords" content="uml,统一建模语言"><meta name="description" content="UML 统一建模语言"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" integrity="sha384-GvrOXuhMATgEsSwCs4smul74iXGOixntILdUW9XmUC6+HX0sLNAK3q71HotJqlAn" crossorigin="anonymous"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="home"><a href="/blogs">Home</a></div><div class="email"><a href="mailto:pengfeixc@sina.com">Email</a></div><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.svg" alt="rss"></a></div></div></div></div><div class="body"><div class="nothing"></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2024年10月20日</span><span class="category"><a href="/blogs/developer-handbook">标签：DeveloperHandbook</a></span></div><div class="markdown-body"><h1 id="UML">UML <a href="#UML">#</a></h1><h2 id="Uml Overview">Uml Overview <a href="#Uml Overview">#</a></h2><p>UML 是在多种面向对象建模方法的基础上发展起来的建模语言，主要用于软件密集型系统的建模。</p><p>UML 作用：业务建模，需求建模，系统建模，架构建模，数据建模，code建模，模型仿真等。</p><p>uml 图根据职责类型可以分为结构性（structure）和行为性（behavior）两类。</p><ul><li>结构图：展示系统的静态结构，系统各个模块、各个层级、各个抽象组件之间的联系。</li><li>行为图：展示系统各个对象的动态行为活动。</li></ul><p><img src="../static/images/76.jpg" alt="uml overview"></p><h2 id="UML Tool">UML Tool <a href="#UML Tool">#</a></h2><p>UML 建模工具非常多，选取自己熟悉顺手的即可。</p><ul><li><a href="https://staruml.io/">Start UML</a></li><li><a href="https://app.diagrams.net/">Drawio</a>：比较推荐，可以和 vscode 集成，而且免费。</li></ul><h2 id="Use Case Diagram">Use Case Diagram <a href="#Use Case Diagram">#</a></h2><p>用例图（use case diagram）是一种 uml 行为图。</p><p>用例图（use case diagram）是从用户的角度描述系统的功能，一般用于分析产品需求和行为。是分析、设计、以及测试的重要依据。</p><h3 id="执行者和用例">执行者和用例 <a href="#执行者和用例">#</a></h3><p>用例图包含两个基本元素执行者（actor）和用例（use case）。</p><p>执行者一般用人形符号表示，符号下面标出角色名，用例用椭圆形符号表示，用例名写在椭圆中或者椭圆底部。</p><p><img src="../static/images/77.jpg" alt="用例图元素"></p><p>例如一个邮件系统，用例图如下。</p><p><img src="../static/images/78.jpg" alt="邮件系统的用例图"></p><p>绘制用例图的关键在于识别系统角色，识别用例。</p><h3 id="元素之间的关系">元素之间的关系 <a href="#元素之间的关系">#</a></h3><p>执行者和用例之间是一种关联关系，表示角色触发用例的关系。</p><p>用例之间也会存在某种关系。</p><ul><li><p>泛化(generalization)：泛化关系是一种继承关系，子用例将继承基用例的所有行为，关系和通信关系，也就是说在任何使用基用例的地方都可以用子用例来代替。泛化关系在用例图中使用空心的箭头表示，箭头方向从子用例指向基用例。</p></li><li><p>扩展(extend)： extend关系是对基用例的扩展，基用例是一个完整的用例，即使没有子用例的参与，也可以完成一个完整的功能。extend 的基用例中将存在一个扩展点，只有当扩展点被激活时，子用例才会被执行。 extend关系在用例图中使用带箭头的虚线表示(在线上标注 <code>&lt;&lt;extend&gt;&gt;</code> )，箭头从子用例指向基用例。</p></li><li><p>包含(include)： include 为包含关系，当两个或多个用例中共用一组相同的动作，这时可以将这组相同的动作抽出来作为一个独立的子用例，供多个基用例所共享。因为子用例被抽出，基用例并非一个完整的用例，所以 include 关系中的基用例必须和子用例一起使用才够完整，子用例也必然被执行。include 关系在用例图中使用带箭头的虚线表示(在线上标注 <code>&lt;&lt;include&gt;&gt;</code> )，箭头从基用例指向子用例。</p></li></ul><p><img src="../static/images/82.jpg" alt="用例泛化"></p><p><img src="../static/images/79.jpg" alt="用例图用例间关系表示"></p><p>联通客户响应OSS。系统有故障单、业务开通、资源核查、割接、业务重保、网络品质性能等功能模块。现在我们抽出部分需求做为例子讲解（例子摘抄自：<a href="http://www.uml.org.cn/oobject/201104211.asp">uml.org.cn</a>。</p><p><em>需求1：客户响应用户和国际客服可以进行割接通知查询，在页面上有骨干割接查询、省间割接查询、省级割接查询的Tab。</em></p><p><em>分析：可以很容易看出割接查询和不同的割接子查询Tab之间是继承的关系，所以此处用泛化。用户和客户响应、国际客服也是继承的Actor关系。</em></p><p><em>需求2：客户响应用户和国际客服可以查看某条割接通知信息，可以在页面上导出割接信息Excel格式，可以查询和该条割接相关联的故障单信息。</em></p><p><em>分析：因为导出割接和查看相关联的故障单信息都是可选的，就是说我查看割接的时候，也可以不进行这些操作，所以这里用extend关系。也就是导出割接和查看故障单信息扩展了查看割接信息。</em></p><p><em>需求3：客户响应用户可以以网管系统为来源创建割接通知，在创建割接通知时可以保存为草稿，也可以直接发布割接通知。</em></p><p><em>分析：由于创建割接通知时，发布割接通知可以同时进行，也可以先存为草稿，所以发布割接是可选的，用extend就比较合适。也就是发布割接扩展了创建割接通知。</em></p><p><em>需求4：用户在进行业务开通、发布割接通知、发布重保通知及相关跨省的业务时需要进行数据分发。</em></p><p><em>分析：由于业务开通、重保、割接及其它跨省的业务都需要用到数据分发用例，我们可以将数据分发用例单独抽出来，供各业务使用，这里用include就比较合适。实际的系统中数据分发也是单独抽出来用jms和webservice实现的接口服务。</em></p><h2 id="Activity Diagram">Activity Diagram <a href="#Activity Diagram">#</a></h2><p>uml 活动图通常用于约为流程建模，用于对单个用例或某个场景逻辑建模。</p><h3 id="建模元素">建模元素 <a href="#建模元素">#</a></h3><p>活动图的主要建模元素如下</p><p><strong>1、动作（活动）</strong></p><p>工作流过程种命令的执行或活动的执行。</p><p><strong>2、始终状态</strong></p><p>活动图的开始用开始状态表示，终止用结束状态表示。一个活动图只有一个开始状态，可能有多个结束状态。</p><p><strong>3、动作流</strong></p><p>活动之间、活动与状态之间的转换，用实线箭头表示。</p><p><strong>4、分支与合并</strong></p><p>活动图中经常会遇到多分支的情况，根据条件的不同一条分支会变成两条，也会在某一节点处，两条分支也会合并成一条分支。</p><p><strong>5、分叉与汇合</strong></p><p>分叉：用于将一个控制流分为两个或多个<strong>并发运行</strong>的分支。 汇合：用于将两个或多个控制流合并到一起形成一个单向的控制流，符号与分叉相同。</p><p><img src="../static/images/83.jpg" alt="活动图的建模元素"></p><p><img src="../static/images/84.jpg" alt="活动图的建模元素"></p><p><img src="../static/images/85.jpg" alt="活动图的建模元素"></p><p><strong>6、对象和对象流</strong></p><p>活动图描述某个对象时，用矩形框表示，对象和动作之间的关联用虚线箭头表示。</p><p><img src="../static/images/86.jpg" alt="活动图的对象"></p><p><img src="../static/images/87.jpg" alt="活动图的对象流"></p><p><strong>7、泳道</strong></p><p>复杂的活动图还会用泳道表示，例如为了表示活动是由哪些人或者哪些部门负责完成。</p><p>例如一个购物 app 的活动图如下。</p><p><img src="../static/images/88.jpg" alt="购物 app 活动图"></p><h2 id="Sequence Diagram">Sequence Diagram <a href="#Sequence Diagram">#</a></h2><p>时序图（Sequence Diagram），亦称为序列图、循序图或顺序图，是一种UML交互图。它通过描述对象之间发送消息的时间顺序显示多个对象之间的动态协作。</p><p>时序图是一个二维图，横轴表示对象，纵轴表示时间，消息在各对象之间横向传递，依照时间顺序纵向排列。</p><p>时序图的作用。</p><ol><li>展示对象之间交互的顺序。将交互行为建模为消息传递，通过描述消息是如何在对象间发送和接收的来动态展示对象之间的交互；</li><li>相对于其他UML图，时序图更强调交互的时间顺序；</li><li>可以直观的描述并发进程。</li></ol><h3 id="建模元素">建模元素 <a href="#建模元素">#</a></h3><p><strong>1、角色（Actor）</strong></p><p>与用例图执行者含义一致，用人形符号表示，一般表示</p><p><strong>2、对象（Object）</strong></p><p>系统类的一个实例对象。命名方式比较多。</p><ul><li><code>对象:类</code></li><li><code>:类</code></li><li><code>对象</code></li></ul><p>时序图一般是自上而下的，对象位于图顶部，对象间的左右位置顺序并不重要，通常应遵循：</p><ul><li>把交互频繁的对象尽可能的靠拢；</li><li>把初始化整个交互活动的对象放置在最左端。</li></ul><p><strong>3、生命线（LifeLine）</strong></p><p>在时序图中表示为从对象图标向下延伸的一条虚线，表示对象存在的时间。</p><p><strong>4、控制焦点（Focus of Control）</strong></p><p>又称为激活期，表示时间段的符号，在这个时间段内对象将执行相应的操作。它可以被理解成C语言语义中一对花括号 <code>{ }</code> 中的内容；用小矩形表示。</p><p><strong>5、消息（Message）</strong></p><p>消息一般分为同步消息（Synchronous Message），异步消息（Asynchronous Message）和返回消息（Return Message）。</p><p>同步消息的发送者把控制传递给消息的接收者，然后停止活动，等待消息的接收者放弃或者返回控制。用来表示同步的意义；</p><p>异步消息发送者通过消息把信号传递给消息的接收者，然后继续自己的活动，不等待接受者返回消息或者控制。异步消息的接收者和发送者是并发工作的。</p><p>返回消息表示从过程调用返回。</p><p><strong>6、自关联消息</strong></p><p>表示方法的自身调用或者一个对象内的一个方法调用另外一个方法。</p><p><strong>7、组合片段</strong></p><p>组合片段用来解决交互执行的条件和方式，它允许在序列图中直接表示逻辑组件，用于通过指定条件或子进程的应用区域，为任何生命线的任何部分定义特殊条件和子进程。组合片段共有13种，名称及含义如下：</p><p>（1）、Opt（选项）：包含一个可能发生或可能不发生的序列。可以在临界中指定序列发生的条件。</p><p><img src="../static/images/91.jpg" alt=""></p><p>（2）、Alt（抉择）：包含一个片段列表，这些片段包含备选消息序列。在任何场合下只发生一个序列。在任何场合下只发生一个序列。</p><p><img src="../static/images/90.jpg" alt=""></p><p>（3）、Loop（循环）：片段重复一定次数，可以在临界中指示片段重复的条件。Loop 组合片段有 <code>Min</code> 和 <code>Max</code> 属性，他们指示片段可以重复的最小和最大次数，默认值无限制。</p><p><img src="../static/images/92.jpg" alt=""></p><p>（4）、Par（并行）：并行处理，片段中的事件可以交错。</p><p><img src="../static/images/93.jpg" alt=""></p><h2 id="Class Diagram">Class Diagram <a href="#Class Diagram">#</a></h2><p>类图是一种 uml 结构图。</p><p>关于类图可以参考这篇文章：<a href="http://pengfeixc.com/blogs/developer-handbook/uml-class-diagram.html">uml 类图</a></p><h2 id="Object Diagram">Object Diagram <a href="#Object Diagram">#</a></h2><p>对象图（obejct diagram）是对象建模的关键，用来描述系统中的对象及其关系的图。</p><blockquote><p>在众多的表面对象中寻找构成它们的基本对象，这是发现规律和共性的关键，是简化问题进而解决问题的必由之路。</p></blockquote><p>对象图用于提供系统中的实例及其相互关系的快照。通过将类图中的模型元素实例化，就可以了解系统在某一时刻的行为。</p><p>对象图的表示方法，就是类图中的对象表示，所以只有对象而无类的类图就是一个对象图。</p><p><img src="../static/images/89.jpg" alt="UML 对象图示例"></p><h2 id="Package Diagram">Package Diagram <a href="#Package Diagram">#</a></h2><p>为了简单地表示出复杂的类图，可以把类组合成包（package）。一个包是 UML 上有逻辑关系的元件的集合。</p><p>包的依赖关系：如果另一个的包 B 改变可能会导致一个包 A 改变，则包 A 依赖包 B。</p><p><img src="../static/images/94.jpg" alt="包和依赖关系的表示"></p><h2 id="Reference">Reference <a href="#Reference">#</a></h2><ul><li><a href="https://www.uml-diagrams.org/">uml-dragrams.org</a></li><li><a href="http://www.uml.org.cn/">uml.org.cn</a></li></ul></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/developer-handbook/vsvim">上一篇：VsVim</a></span></div></div><div class="toc"><div class="toc-header">目录</div><div class="toc-body"><div class="toc-item"><a class="toc-item-link" href="#UML" style="padding-left:15px">UML</a></div><div class="toc-item"><a class="toc-item-link" href="#Uml Overview" style="padding-left:30px">Uml Overview</a></div><div class="toc-item"><a class="toc-item-link" href="#UML Tool" style="padding-left:30px">UML Tool</a></div><div class="toc-item"><a class="toc-item-link" href="#Use Case Diagram" style="padding-left:30px">Use Case Diagram</a></div><div class="toc-item"><a class="toc-item-link" href="#执行者和用例" style="padding-left:45px">执行者和用例</a></div><div class="toc-item"><a class="toc-item-link" href="#元素之间的关系" style="padding-left:45px">元素之间的关系</a></div><div class="toc-item"><a class="toc-item-link" href="#Activity Diagram" style="padding-left:30px">Activity Diagram</a></div><div class="toc-item"><a class="toc-item-link" href="#建模元素" style="padding-left:45px">建模元素</a></div><div class="toc-item"><a class="toc-item-link" href="#Sequence Diagram" style="padding-left:30px">Sequence Diagram</a></div><div class="toc-item"><a class="toc-item-link" href="#建模元素" style="padding-left:45px">建模元素</a></div><div class="toc-item"><a class="toc-item-link" href="#Class Diagram" style="padding-left:30px">Class Diagram</a></div><div class="toc-item"><a class="toc-item-link" href="#Object Diagram" style="padding-left:30px">Object Diagram</a></div><div class="toc-item"><a class="toc-item-link" href="#Package Diagram" style="padding-left:30px">Package Diagram</a></div><div class="toc-item"><a class="toc-item-link" href="#Reference" style="padding-left:30px">Reference</a></div></div></div></div></body></html>