<html lang="zh_cn"><head><title>数组—二维数组中的查找</title><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="keywords"><meta name="description" content="在行和列数值递增的二维数组中查找指定值。"><link rel="stylesheet" href="/blogs/assests/code_github.css"><link rel="stylesheet" href="/blogs/assests/github_markdown.css"><link rel="stylesheet" href="/blogs/assests/article.css"><link rel="stylesheet" href="/blogs/assests/navigator.css"><link rel="icon" href="/blogs/assests/images/icon.jpg"><meta property="author" content="王鹏飞"><script type="text/javascript">window.addEventListener("DOMContentLoaded",function(){document.getElementById("search-input").addEventListener("search",e=>{e.target.value&&window.open(`https://bing.com/search?q=${e.target.value}%20site%3A+pengfeixc.com`,"_blank")})})</script></head><body><div class="header"><div class="navigator"><div class="links"><div class="github"><a target="_blank" href="https://github.com/pengfeiw">GitHub</a></div><div clss="minicode"><a target="_blank" href="https://pengfeiw.github.io/minicode">MiniCode</a></div><div class="search"><input id="search-input" type="search" placeholder="search"></div><div class="rss"><a href="/blogs/rss.xml"><img src="/blogs/assests/images/rss.png" alt="rss"></a></div></div></div><a href="/blogs/"><img src="/blogs/assests/images/icon.jpg"></a></div><div class="markdown"><div class="markdown-header"><span class="date">日期：2021年4月8日</span><span class="category"><a href="/blogs/algorithm-math">标签：algorithm</a></span></div><div class="markdown-body"><h1 id="在二维数组中查找指定值">在二维数组中查找指定值 <a href="#在二维数组中查找指定值">#</a></h1><h3 id="一.数组">一.数组 <a href="#一.数组">#</a></h3><p>数组是一种最简单的数据结构，在内存中占据一块连续的存储结构，可以通过数组下标进行访问。对比链表，其具有访问速度快，时间效率 高的特点。但是数组需要预先在内存中分配存储空间，因此数组的空间效率不是很好，经常会有空间没有得到充分的利用。</p><h3 id="二.二维数组中的查找">二.二维数组中的查找 <a href="#二.二维数组中的查找">#</a></h3><p>在一个二维数组中，每一行都按照从左到右递增的顺序排序，每一列都按照从上到下递增的顺序排序。请完成一个函数，输入这样的一个二维数组和一个整数，判断数组中是否含有该整数。 例如，有如下数组a，需要在里面寻找7。</p><pre><code>1,3,6,7
3,6,8,10
5,9,10,12
</code></pre><p>很多人，按照惯性思维会直接从下标0开始进行比较，将<code>a[0][0]</code>与7进行比较，<code>a[0][0]</code>小于7，所以可能的值在左下方和右上方，继续比较<code>a[1][1]</code>，<code>a[1][1]</code>小于7，得到7可能存在于左下方和右上方。每次比较都会出现两个可能的区域左下方和右上方，这样看问题会变得越来越复杂。</p><p><img src="https://pengfeiw.github.io/images/blog/6.jpg" alt="二维数组中的查找"></p><p>所以不妨换一个角度，从右上角出发，每次比较右上角的数字，来缩小比较范围，例如我们要在a中寻找5，首先将7与5比较，7大于5，所以7所在的列不可能存在5。所以踢出当前列。在将6与5比较，6大于5，再踢出6所在的列。继续比较3和5，因为3小于5，所以踢出3所在的行。这样每比较一次，会缩小查找的范围，直到找到5。</p><p>代码：</p><pre><code class="hljs language-typescript"><span class="hljs-comment">/**
 * 在二维数组中查找指定值
 * <span class="hljs-doctag">@param</span> arr 二维数组
 * <span class="hljs-doctag">@param</span> value 需要查找的值
 * <span class="hljs-doctag">@returns</span> 如果存在返回索引值, 不存在返回{i: -1, j: -1}
 */</span>
<span class="hljs-keyword">const</span> includes = (<span class="hljs-attr">arr</span>: <span class="hljs-built_in">number</span>[][], <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span> {
    <span class="hljs-comment">// 检查数组长度</span>
    <span class="hljs-keyword">if</span> (arr.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">if</span> (arr[<span class="hljs-number">0</span>].<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">// 从数组右上角进行比较</span>
    <span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>, j = arr[<span class="hljs-number">0</span>].<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span>(i &lt; arr.<span class="hljs-property">length</span> &amp;&amp; j &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (arr[i][j] === value) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (arr[i][j] &lt; value) {
            i++;
        }
        <span class="hljs-keyword">if</span> (arr[i][j] &gt; value) {
            j--;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};
</code></pre><p>测试:</p><pre><code class="hljs language-typescript"><span class="hljs-keyword">const</span> <span class="hljs-attr">arr1</span>: <span class="hljs-built_in">number</span>[][] = [[]];
<span class="hljs-keyword">const</span> <span class="hljs-attr">arr2</span>: <span class="hljs-built_in">number</span>[][] = [[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>], [<span class="hljs-number">5</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">12</span>], [<span class="hljs-number">7</span>, <span class="hljs-number">12</span>, <span class="hljs-number">14</span>, <span class="hljs-number">20</span>]];
<span class="hljs-keyword">const</span> <span class="hljs-attr">arr3</span>: <span class="hljs-built_in">number</span>[][] = [[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>, <span class="hljs-number">7</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span>, <span class="hljs-number">10</span>]];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr1, <span class="hljs-number">0</span>)); <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr2, -<span class="hljs-number">1</span>)); <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr2, <span class="hljs-number">7</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr2, <span class="hljs-number">5</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr2, <span class="hljs-number">4</span>)); <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr3, -<span class="hljs-number">1</span>)); <span class="hljs-comment">// false</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr3, <span class="hljs-number">7</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr3, <span class="hljs-number">5</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">includes</span>(arr3, <span class="hljs-number">4</span>)); <span class="hljs-comment">// false</span>
</code></pre><p>同样我们也可以从左下角进行出发，当比较的数字大于目标值时，踢出当前行，小于目标值时踢出当前列，以此来缩小查找范围。</p><p><a href="https://github.com/pengfeiw/blog-algorithm/tree/master/%EF%BC%88%E6%95%B0%E7%BB%84%EF%BC%89%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9F%A5%E6%89%BE">github地址</a>。</p><p>（完）</p></div><div class="markdown-footer"><span class="pre-article"><a href="/blogs/javascript/valueOf-and-toString">上一篇：valueOf和toString方法</a></span><span class="next-article"><a href="/blogs/algorithm-math/recursion-steps">下一篇：递归—台阶问题</a></span></div></div></body></html>
